<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" type="text/css" href="../../stylesheets/bootstrap.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../../stylesheets/style.css" media="screen" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="../../javascripts/bootstrap.js"></script>
    <title>Введение в Python</title>
</head>
<body>
<div id="navbar-center">
<nav class="navbar navbar-expand-lg navbar-light bg-light">

    <a class="navbar-brand" href="/"><img src="../../logo.png" style="height: 70px; "></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle dropdown-active-button nav-link-active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Основы Python
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="/article/1">Введение в написание программ</a>
                    <a class="dropdown-item" href="/article/2">Переменные и типы данных</a>
                    <a class="dropdown-item" href="/article/3">Операции с числами</a>
                    <a class="dropdown-item" href="/article/4">Условные выражения</a>
                    <a class="dropdown-item" href="/article/5">Операции со строками</a>
                    <a class="dropdown-item" href="/article/6">Условная конструкция if</a>
                    <a class="dropdown-item active" href="/article/7">Циклы</a>
                    <a class="dropdown-item" href="/article/8">Функции</a>
                    <a class="dropdown-item" href="/article/9">Область видимости переменных</a>
                    <a class="dropdown-item" href="/article/10">Модули</a>
                    <a class="dropdown-item" href="/article/11">Обработка исключений</a>
                </div>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="/begin">Первая программа</a>
            </li>

            <li class="nav-item ">
                <a class="nav-link" href="/pycharm">PyCharm</a>
            </li>
        </ul>
    </div>

</nav>
</div>
<div class="content">
<h1>Циклы</h1>
    <p>Циклы позволяют повторять некоторое действие в зависимости от соблюдения некоторого условия.</p>
    <h3>Цикл while</h3>
    <p>Первый цикл, который мы рассмотрим, это цикл <span class="b">while</span>. Он имеет следующее формальное определение:</p>
    <pre class="brush:py;">
while условное_выражение:
   инструкции
</pre>
    <p>После ключевого слова <code>while</code> указывается условное выражение, и пока это выражение возвращает значение <code>True</code>,
        будет выполняться блок инструкций, который идет далее.</p>
    <p>Все инструкции, которые относятся к циклу while, располагаются на последующих строках и должны иметь отступ от начала строки.</p>
    <pre class="brush:py;">
choice = "y"

while choice.lower() == "y":
    print("Привет")
    choice = input("Для продолжения нажмите Y, а для выхода любую другую клавишу: ")
print("Работа программы завешена")
</pre>
    <p>В данном случае цикл while будет продолжаться, пока переменная choice содержит латинскую букву "Y" или "y".</p>
    <p>Сам блок цикла состоит из двух инструкций. Сначала выводится сообщение "Привет", а потом вводится новое значение для переменной choice.
        И если пользователь нажмет какую-то другую клавишу, отличную от Y, произойдет выход из цикла, так как условие <code>choice.lower() == "y"</code>
        вернет значение False. Каждый такой проход цикла называется итерацией.</p>
    <p>Также обратите внимание, что последняя инструкция <code>print("Работа программы завешена")</code> не имеет отступов от начала строки, поэтому она не
        входит в цикл while.</p>
    <p>Дугой пример - вычисление факториала:</p>
    <pre class="brush:py;">
#! Программа по вычислению факториала

number = int(input("Введите число: "))
i = 1
factorial = 1
while i &lt;= number:
    factorial *= i
    i += 1
print("Факториал числа", number, "равен", factorial)
</pre>
    <p>Здесь вводит с консоли некоторое число, и пока число-счетчик i не будет больше введенного числа, будет выполняться цикл, в котором происходит умножения числа
        factorial.</p>
    <p>Консольный вывод:</p>
    <div class="console">
<pre class="consoletext">
Введите число: 6
Факториал числа 6 равен 720
</pre>
    </div>
    <h3>Цикл for</h3>
    <p>Другой тип циклов представляет конструкция <span class="b">for</span>. Цикл for вызывается для каждого числа в некоторой коллекции чисел. Коллекция чисел
        создается с помощью функции <span class="b">range()</span>. Формальное определение цикла for:</p>
    <pre class="brush:py;">
for int_var in функция_range:
	инструкции
</pre>
    <p>После ключевого слова <span class="b">for</span> идет переменная int_var, которая хранит целые числа (название переменной может быть любое), затем ключевое слово <span class="b">in</span>, вызов функции <code>range()</code> и двоеточие.</p>
    <p>А со следующей строки располагается блок инструкций цикла, которые также должны иметь отступы от начала строки.</p>
    <p>При выполнении цикла Python последовательно получает все числа из коллекции, которая создается функцией range, и сохраняет эти числа в переменной
        int_var. При первом проходе цикл получает первое число из коллекции, при втором - второе число и так далее, пока не переберет все числа.
        Когда все числа в коллекции будут перебраны, цикл завершает свою работу.</p>
    <p>Рассмотрим на примере вычисления факториала:</p>
    <pre class="brush:py;">
#! Программа по вычислению факториала

number = int(input("Введите число: "))
factorial = 1
for i in range(1, number+1):
    factorial *= i
print("Факториал числа", number, "равен", factorial)
</pre>
    <p>Вначале вводим с консоли число. В цикле определяем переменную i, в которую сохраняются числа из коллекции, создаваемой функцией range.</p>
    <p>Функция <code>range</code> здесь принимает два аргумента - начальное число коллекции (здесь число 1) и число, до которого надо добавлять числа (то есть number +1).</p>
    <p>Допустим, с консоли вводится число 6, то вызов функции range приобретает следующую форму:</p>
    <pre class="brush:py;">range(1, 6+1):</pre>
    <p>Эта функция будет создавать коллекцию, которая будет начинаться с 1 и будет последовательно наполняться целыми числами вплоть до 7. То есть это будет коллекция
        [1, 2, 3, 4, 5, 6].</p>
    <p>При выполнении цикла из этой коллекции последовательно будут передаваться числа в переменную i, а в самом цикле будет происходить умножение
        переменной i на переменную factorial. В итоге мы получим факториал числа.</p>
    <p>Консольный вывод программы:</p>
    <div class="console">
<pre class="consoletext">
Введите число: 6
Факториал числа 6 равен 720
</pre>
    </div>
    <h4>Функция range</h4>
    <p>Функция range имеет следующие формы:</p>
    <ul>
        <li><p><span class="b">range(stop)</span>: возвращает все целые числа от 0 до stop</p></li>
        <li><p><span class="b">range(start, stop)</span>: возвращает все целые числа в промежутке от start (включая) до stop (не включая). Выше в программе факториала использована именно эта форма.</p></li>
        <li><p><span class="b">range(start, stop, step)</span>: возвращает целые числа в промежутке от start (включая) до stop (не включая), которые увеличиваются на
            значение step</p></li>
    </ul>
    <p>Примеры вызовов функции range:</p>
    <pre class="brush:py;">
range(5)	   # 0, 1, 2, 3, 4
range(1, 5)	   # 1, 2, 3, 4
range(2, 10, 2)    # 2, 4, 6, 8
range(5, 0, -1)    # 5, 4, 3, 2, 1
</pre>
    <p>Например, выведем последовательно все числа от 0 до 4:</p>
    <pre class="brush:py;">
for i in range(5):
    print(i, end=" ")
</pre>
    <h3>Вложенные циклы</h3>
    <p>Одни циклы внутри себя могут содержать другие циклы. Рассмотрим на примере вывода таблицы умножения:</p>
    <pre class="brush:py;">
for i in range(1, 10):
    for j in range(1, 10):
        print(i * j, end="\t")
    print("\n")
</pre>
    <p>Внешний цикл <code>for i in range(1, 10)</code> срабатывает 9 раз, так как в коллекции, возвращаемой функцией range, 9 чисел.
        Внутренний цикл <code>for j in range(1, 10)</code> срабатывает 9 раз для одной итерации внешнего цикла, и соответственно 81 раз для всех итераций внешнего цикла.</p>
    <p>В каждой итерации внутреннего цикла на консоль будет выводится произведение чисел i и j. В итоге мы получим следующий консольный вывод:</p>
    <div class="console">
<pre class="consoletext">
1	2	3	4	5	6	7	8	9

2	4	6	8	10	12	14	16	18

3	6	9	12	15	18	21	24	27

4	8	12	16	20	24	28	32	36

5	10	15	20	25	30	35	40	45

6	12	18	24	30	36	42	48	54

7	14	21	28	35	42	49	56	63

8	16	24	32	40	48	56	64	72

9	18	27	36	45	54	63	72	81
</pre>
    </div>
    <h3>Выход из цикла. break и continue</h3>
    <p>Для управления циклом мы можем использовать специальные операторы <span class="b">break</span> и <span class="b">continue</span>.
        Оператор break осуществляет выход из цикла. А оператор continue выполняет переход к следующей итерации цикла.</p>
    <p>Оператор break может использоваться, если в цикле образуются условия, которые несовместимы с его дальнейшим выполнением. Рассмотрим следующий пример:</p>
    <pre class="brush:py;">
#! Программа Обменный пункт

print("Для выхода нажмите Y")

while True:
    data = input("Введите сумму для обмена: ")
    if data.lower() == "y":
        break  # выход из цикла
    money = int(data)
    cache = round(money / 56, 2)
    print("К выдаче", cache, "долларов")

print("Работа обменного пункта завершена")
</pre>
    <p>Здесь мы имеем дело с бесконечным циклом, так как условие <span class="b">while True</span> всегда истинно и всегда будет выполняться. Это
        популярный прием для создания программ, которые должны выполняться неопределенно долго.</p>
    <p>В самом цикле получаем ввод с консоли. Мы предполагаем, что пользователь будет вводить число - условную сумму денег для обмена.
        Если пользователь вводит букву "Y" или "y", то с помощью оператора break выходим из цикла и прекращаем работу программы. Иначе делим введенную сумму на обменный курс,
        с помощью функции round округляем результат и выводим его на консоль. И так до бесконечности, пока пользователь не захочет выйти из программы, нажав на клавишу Y.</p>
    <p>Консольный вывод программы:</p>
    <div class="console">
<pre class="consoletext">
Для выхода нажмите Y
Введите сумму для обмена: 20000
К выдаче 357.14 долларов
Введите сумму для обмена: Y
Работа обменного пункта завершена
</pre>
    </div>
    <p>Но что, если пользователь введет отрицательное число? В этом случае программа также выдаст отрицательный результат, что не является корректным поведением.
        И в этом случае перед вычислением мы можем проверить значение, меньше ли оно нуля, и если меньше, с помощью оператора continue выполнить переход к следующей
        итерации цикла без его завершения:</p>
    <pre class="brush:py;">
#! Программа Обменный пункт

print("Для выхода нажмите Y")

while True:
    data = input("Введите сумму для обмена: ")
    if data.lower() == "y":
        break  # выход из цикла
    money = int(data)
    if money &lt; 0:
        print("Сумма должна быть положительной!")
        continue
    cache = round(money / 56, 2)
    print("К выдаче", cache, "долларов")

print("Работа обменного пункта завершена")
</pre>
    <p>Также обращаю внимание, что для определения, относится ли инструкция к блоку while или к вложенной конструкции if, опять же используются отступы.</p>
    <p>И в этом случае мы уже не сможем получить результат для отрицательной суммы:</p>
    <div class="console">
<pre class="consoletext">
Для выхода нажмите Y
Введите сумму для обмена: -20000
Сумма должна быть положительной!
Введите сумму для обмена: 20000
К выдаче 357.14 долларов
Введите сумму для обмена: y
Работа обменного пункта завершена
</pre>
    </div>
</div>
</body>
</html>